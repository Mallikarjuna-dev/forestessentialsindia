<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/category.css">
    <link rel="stylesheet" href="../css/cart.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="icon" type="image/x-icon" href="https://images.forestessentialsindia.com/pub/media/favicon/stores/2/favicon.png">
    <title>Basket</title>
    <style>
 
    </style>
</head>
<body>
    <!-- HEADER -->
        <div class="main--Navbar">
            <!-- NOTIFY DIV -->
            <div class="ads">
                <div class="notify">COMPLIMENTARY SAMPLES ON EVERY PURCHASE!</div>
                <div class="notify">WE DELIVER ACROSS INDIA &amp; INTERNATIONALLY.</div>
                <div class="notify">RECEIVE COMPLIMENTARY <a href="/shop.html"><u>GIFT BOXES</u></a> UP TO ₹6500/-</div>
                
            </div>

            <!--NAVBAR MAIN -->
            <div class="navbar">
                <!-- IMAGE NAVBAR 1-->
                <div class="navbar--1">
                    <div class="submenu--left">
                        <div class="Nav-bar" onclick="Navbar()">
                            <i class="fa fa-bars"></i>
                        </div>
                        <div class="submenu-mg">
                            <a href="#search" id="search"><img src="..\img\search-icon.png"></a>
                        </div>
                        <div class="margin-right mg-medium">STORES</div>
                        <div>
                            <select class="INR">
                                <option>INR</option>
                            </select>
                        </div>
                    </div>
                    <div class="submenu--center">
                        <a href="../index.html">
                            <picture>
                                <source srcset="../img/mobile-logo.png" media="(max-width:540px)">

                                <img class="submenu--logo" src="../img/FE-Logo_1.webp">  
                            </picture>
                            
                        </a>
                    </div>
                    <div class="submenu--right">
                        <div class="nav-icon mg-medium">
                            <a href="Signup.html">
                                <span>account</span>
                                <i class="fa fa-user-circle-o"></i>
                            </a>
                        </div>
                        <div class="nav-icon mg-medium">
                            <a href="wishlist.html">
                                <span>wishlist</span>
                                <i class='fa fa-heart-o'></i>
                            </a>
                        </div>
                        <div>
                            <a href="cart.html" >
                            
                                <div class="cart">
                                    <img src="../img/cart-icon.png" >
                                    <span>0</span>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

                
                <!-- IMAGE NAVBAR 2 LINKS-->
                <div class="navbar--2">
                    <ul class="navbar_nav">
                        <li class="nav-item">
                            <!--DISPLAY ONLY MOBILE PHONE RESPONSIVE --->
                            <div class="responsive_div">
                                <div class="responsive_link">
                                    <img src="https://images.forestessentialsindia.com/pub/media/new-fe.png" width="15%">
                                    <a href="#" >LOGIN/REGISTER</a>
                                </div>

                                <div class="responsive--serach">
                                    <input type="text" placeholder="search the web store" class="search_input search_resp">
                                    <img src="..\img\search-icon.png">
                                </div>
                            </div>  
                        </li>
                        <li class="nav-item comment-tag res-icon-1">
                            <img src="../img/new.jpg" >
                            <a href="bespoke.html" class="nav-link">bespoker services</a>
                        </li>
                        <li class="nav-item res-icon-2">
                            <a href="Facial.html" class="nav-link">facial care</a>
                        </li>
                        <li class="nav-item res-icon-3">
                            <a href="body-care.html" class="nav-link" >body care</a>
                        </li>
                        <li class="nav-item res-icon-4">
                            <a href="Hair.html" class="nav-link" >hair care</a>
                        </li>
                        <li class="nav-item res-icon-5">
                            <a href="makeup.html" class="nav-link" >makeup</a>
                        </li>
                        <li class="nav-item res-icon-6">
                            <a href="" class="nav-link" >wellness</a>
                        </li>
                        <li class="nav-item festivel-tag res-icon-7">
                            <img src="../img/festival.jpg" >
                            <a href="Gifting.html" class="nav-link" >gifting</a>
                        </li>   
                        <li class="nav-item res-icon-8">
                            <a href="rituals.html" class="nav-link" >rituals</a>
                        </li>
                        <li class="nav-item res-icon-8">
                            <a href="collection.html" class="nav-link" >collections</a>
                        </li>
                        <li class="nav-item res-icon-9">
                            <a href="" class="nav-link" >discover</a>
                        </li>
                    </ul>
                    <!--ONLY SHOWS IN MOBILE PHONE -->
                    <img class="cross--icon__res--hide" src="https://cdn.forestessentialsindia.com/pub/static/frontend/Forest/Theme/en_US/images/cross-icon.svg" onclick="resCrossIcon()">

                </div>

                <!--ONCLIK SEARCH BAR SHOW --->
                <div class="search" id="hide">
                    <div class="search--div">
                        <input type="text" placeholder="search the web store" class="search_input">
                        <img src="..\img\search-icon.png">
                    </div>
                    <img class="cross--icon" src="https://cdn.forestessentialsindia.com/pub/static/frontend/Forest/Theme/en_US/images/cross-icon.svg" id="show">
                </div>
            </div>
        </div>  
    <div class="basket_and_summary_wrapper">
        <div class="basket">
            <h1>Basket</h1>
            <div class="product_container">
               
            </div>    
        </div>
        <div class="order_summary">
            <h1>Order Summary</h1>
            <div>
                <label for="">Promo Code</label><br><br>
                <input class="promo_code" type="text" placeholder="PROMO CODE">
                <div id="cart_totals">
                    <div>
                        <span id="total_number_of_cart_items">3 x items</span>
                        <span id="total_price_of_cart_items_without_delivery_charges">₹3,285.00</span>
                    </div>
                    <div>
                        <span>Delivery</span>
                        <span id="delivery_charges">₹0.00</span>
                    </div>
                    <div>
                        <span>TOTAL	</span>
                        <span id="total_price_of_cart_items_with_delivery_charges">₹3,285.00</span>
                    </div>
                </div>
                <p>Note: For deliveries outside India, Customs and other charges may apply (click to see details)</p>
                <a href="payment_gateway.html"><button class="checkout_button">PROCEED TO CHECKOUT</button></a>
            </div>
        </div>
    </div>
    <div id="newsletter_image_container">
        <div id="newslatter_text_container">
            <h2>Newslatter</h2>
            <p>
                Get insider access for limited edition offers, new launches, insights on Ayurvedic skincare, beauty tips and more!
            </p>
            <div>
                <input class="inputfield" type="text" placeholder="NAME">
                <input class="inputfield" type="text" placeholder="EMAIL">
                <button>SUBSCRIBE</button>
                <br><br>
            </div>
            <div>
                <input type="checkbox" id="checkbox">
                    I have read and agree to Forest Essentials
                    <a  href="#">Terms of Conditions</a>.
            </div>
        </div>
    </div>
    <div  id="service_charac">
        <div>
            <img src="https://images.forestessentialsindia.com/pub/media/cms_images/100-Ayurvedic.png" alt="" >
            <h2>100% Ayurvedic</h2>
            <p>Our products are certified 100% natural and inspired by Ayurveda recipes by the ministry of AYUSH. We conform to the highest quality control standards.</p>
        </div>
        <div>
            <img src="https://images.forestessentialsindia.com/pub/media/cms_images/Plant-Based.png" alt="" >
            <h2>Plant Based</h2>
            <p>We harness the power of plant extracts as a part of our commitment to using naturally effective and sustainably sourced ingredients to achieve superior results organically.</p>
        </div>
        <div>
            <img src="https://images.forestessentialsindia.com/pub/media/cms_images/free-shipping.png" alt="" >
            <h2>Free shipping</h2>
            <p>On all international orders of INR 9,999/- and above, and on all domestic orders of INR 475/- and above.</p>
        </div>
        <div>
            <img src="https://images.forestessentialsindia.com/pub/media/cms_images/Complimentary-samples.png" alt="" >
            <h2>Complimentary Samples</h2>
            <p>Enjoy complimentary samples on your orders.</p>
        </div>
    </div>
    <div id="footer">
        <div>
            <h4>SHOP</h4>
            <ul>
                <li><a href="">MAKEUP</a></li>
                <li><a href="">FACIAL CARE</a></li>
                <li><a href="">BODY CARE</a></li>
                <li><a href=""HAIR CARE></a></li>
                <li><a href="">MEN'S CARE</a></li>
                <li><a href="">MOTHER & BABY CARE</a></li>
                <li><a href="">WELLNESS</a></li>
                <li><a href="">GIFTING</a></li>
            </ul>
        </div>
        <div>
            <h4>ABOUT</h4>
            <ul>
                <li><a href="">OUR PHILOSOPHY</a></li>
                <li><a href="">SOCIAL RESPONSIBILITY</a></li>
                <li><a href="">MEDIA & PRESS</a></li>
                <li><a href="">POLICIES</a></li>
                <li><a href="">TERMS</a></li>
                <li><a href="">FAQS</a></li>
                <li><a href="">SOUNDARYA CLUB FAQS</a></li>
                <li><a href="">CAREERS</a></li>
            </ul>
        </div>
        <div>
            <h4>QUICK LINKS</h4>
            <ul>
                <li><a href="">MY ACCOUNT</a></li>
                <li><a href="">SOUNDARYA CLUB SIGN IN</a></li>
                <li><a href="">AYURVEDIC DOCTOR INTERACTION</a></li>
                <li><a href="">CUSTOMIZE A CREAM</a></li>
                <li><a href="">STORES</a></li>
                <li><a href="">BLOG</a></li>
                <li><a href="">OUR INGREDIENTS</a></li>
                <li><a href="">FOREST ESSENTIALS UK</a></li>
            </ul>
        </div>
        <div>
            <h4>SHOP</h4>
            <p>Email:<br><a class="a" href="">service@forestessentialsindia.com</a></p>
            <p>Phone:<br><a class="a" href="">+91-8010200666</a></p>
            <p><a class="a" href="">Contact Us</a></p>
            <h4>FOLLOW</h4>
            <ul>
                <a href="#" class="fa fa-facebook"></a>
                <a href="#" class="fa fa-twitter"></a>  
                <a href="#" class="fa fa-youtube"></a>
                <a href="#" class="fa fa-instagram"></a>
                <a href="#" class="fa fa-linkedin"></a>
            </ul>
        </div>
    </div>
     <div id="copy_right"> 
        <div>
            <span>PAYMENT METHODS</span>
            <img src="https://images.forestessentialsindia.com/pub/media/payment-method-new.png" alt="" width="500px">
        </div>
        <div>
            <span>© Forest Essentials</span>
        </div>
    </div> 
</body>
</html>
<script src="../js/header.js"></script>
<script src="../js/cart.js"></script>
<script>
    var cart =JSON.parse(localStorage.getItem('cart'))||[]
    // var counter = [];
    // cart.map(function(el){ counter.push(1) })
    // var counter = JSON.parse(localStorage.getItem('counter'))||[]
    // if(cart.length == 0)
    //     {
    //         console.log("hi")
    //         cart.map(function(el){ counter.push(1) })
    //     }
    // localStorage.setItem('counter',JSON.stringify(counter))
    var arr = []
    cart.map(function(el,index){
        var obj = {
            imgUrl:el.imgUrl,
            prodhead:el.prodhead,
            prodprice:el.prodprice,
            count:1
        }
        arr.push(obj)
    })

    console.log(arr)
    display(arr)
    updateCheckoutSection(arr)
    function display(arr)
    {
        document.querySelector('.product_container').textContent = ""
        if(arr.length == 0)
            {
                document.querySelector('.product_container').innerHTML= "<p> You have no items in your shopping.<br>Click here to continue shopping.</p>"
                document.querySelector('.order_summary').textContent = ""
            }
        else{
            arr.map(function(el,index){
                var div = document.createElement('div')

                    var div1 = document.createElement('div')
                    var div2 = document.createElement('div')
                    var div3 = document.createElement('div')
                    var div4 = document.createElement('div')
                    var div5 = document.createElement('div')

                        var div1_img    = document.createElement('img')
                        var div2_p      = document.createElement('p')
                        var div3_div    = document.createElement('div')

                            var div3_div_button1    = document.createElement('button')
                            var div3_div_span       = document.createElement('span')
                            var div3_div_button2    = document.createElement('button')
                            
                        var div4_span = document.createElement('span')
                        var div5_span = document.createElement('span') 
                    
                    div1_img.setAttribute('src',el.imgUrl)
                    div1.append(div1_img)
                    div2_p.textContent = el.prodhead
                    div2.append(div2_p)
                    div4_span.textContent = el.prodprice
                    div4.append(div4_span)
                    div5_span.textContent = 'X'
                    div5_span.setAttribute('class','remove_from_cart')
                    div5_span.addEventListener('click',function(){
                        remove(index)
                    })
                    div5.append(div5_span)

                    div3_div.setAttribute('class','up_and_down')
                    div3_div_button1.textContent = "+"
                    div3_div_button2.textContent = "-"
                        div3_div_span.textContent = el.count
                    div3_div_span.setAttribute('class','no_of_product')

                    div3_div_button1.addEventListener('click',function(){increment(index)})
                    div3_div_button2.addEventListener('click',function(){decrement(index)})
                    div3_div.append(div3_div_button1,div3_div_span,div3_div_button2)
                    div3.append(div3_div)

                    div.append(div1,div2,div3,div4,div5)
                    document.querySelector('.product_container').append(div)
            })
        }    
    }
    
    function updateCheckoutSection(arr){
        var total_price_without_delivery = arr.reduce(function(ac,el){
            var price = el.prodprice
                if(price[0] == "₹")
                   price = price.slice(1)
                else
                    price = el.prodprice 
                count = el.count   
            return ac + Number(price)*Number(count)
        },0)
        var delivery_charges = 0
        var total_price_of_cart_items_with_delivery_charges = ( total_price_without_delivery + delivery_charges )
        document.querySelector("#total_number_of_cart_items").textContent = ""
        document.querySelector("#total_number_of_cart_items").textContent = arr.length+" x items"

        document.querySelector("#total_price_of_cart_items_without_delivery_charges").textContent = ""
        document.querySelector("#total_price_of_cart_items_without_delivery_charges").textContent = "₹"+total_price_without_delivery

        document.querySelector("#delivery_charges").textContent = ""
        document.querySelector("#delivery_charges").textContent = "₹"+delivery_charges

        document.querySelector("#total_price_of_cart_items_with_delivery_charges").textContent = ""
        document.querySelector("#total_price_of_cart_items_with_delivery_charges").textContent = "₹"+(total_price_of_cart_items_with_delivery_charges+delivery_charges)
    }
    function increment(index){
                        arr[index].count++
                        // counter[index]++
                        // localStorage.setItem('counter',JSON.stringify(counter))
                        display(arr)
                        updateCheckoutSection(arr)
                }
    function decrement(index){
                    if(arr[index].count>1)
                    {
                        arr[index].count--
                        // counter[index]--
                        // localStorage.setItem('counter',JSON.stringify(counter))
                        display(arr)
                        updateCheckoutSection(arr)
                    }
                }
    function remove(index)            
    {
        arr.splice(index,1)
        display(arr)
        cart.splice(index,1)
        localStorage.setItem('cart',JSON.stringify(cart))
        // counter.splice(index,1)
        // localStorage.setItem('counter',JSON.stringify(counter))
        
        updateCheckoutSection(arr)
    }
</script>